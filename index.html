<!DOCTYPE html>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<title>SeaMail Webb App</title>

    <script>
      window.onload = function(){


            //For loop to iterate through gmails
  					for (var i=0; i<geemails.length; i++){
						
              //sender
            var senderBox = document.createElement('div');
  						senderBox.className = 'name';
              senderBox.innerHTML = geemails[i].sender;
  						Inbox.appendChild(senderBox)
  					

  					
            //date
  						var dateBox = document.createElement('div')
  						dateBox.className = 'date';
  						dateBox.innerHTML = geemails[i].date;
  						Inbox.appendChild(dateBox)
  					


            //subject
  						var subjectBox = document.createElement('div');
  						subjectBox.className= 'subject';
  						subjectBox.innerHTML = geemails[i].subject;
              subjectBox.addEventListener('click', showBody);
  						Inbox.appendChild(subjectBox);
  					
					

            //body
  					var bodyBox = document.createElement('div');
  					bodyBox.className = 'body';
  					bodyBox.innerHTML = geemails[i].body;
  					subjectBox.appendChild(bodyBox);
            }


            //function to hide/show body here. 
            function showBody(){
              var bodyMessage = this.querySelectorAll('.body')[0];
              if(bodyMessage.style.display === 'block'){
                bodyMessage.style.display = 'none';
              }
              else{
                bodyMessage.style.display = 'block';
              }
              }

               //interval for new emails
                //setInterval(getNewMessage(), 5000);
                

                  //append message data to Inbox div?

                      var writeEmail = setInterval(writeNew, 5000);

                function writeNew () { 

                  var freshEmail =  getNewMessage();

                   var newEmailSender = document.createElement('div');
                       newEmailSender.className = 'freshSender';
                       newEmailSender.innerHTML = freshEmail.sender;
                       newInbox.appendChild(newEmailSender);

                   var newEmailDate = document.createElement('div');
                        newEmailDate.className = 'freshDate';
                        newEmailDate.innerHTML = freshEmail.date;
                        newInbox.appendChild(newEmailDate);

                    var newEmailSubject = document.createElement('div');
                        newEmailSubject.className = 'freshSubject';
                        newEmailSubject.innerHTML = freshEmail.subject;
                        newEmailSubject.addEventListener('click', showNewBody);

                        newInbox.appendChild(newEmailSubject);

                    var newEmailBody = document.createElement('div');
                        newEmailBody.className = 'freshBody';
                        newEmailBody.innerHTML = freshEmail.body;
                        newEmailSubject.appendChild(newEmailBody);

                        function showNewBody(){
              var newEmailBodyMessage = this.querySelectorAll('.freshBody')[0];
              if(newEmailBodyMessage.style.display === 'block'){
                newEmailBodyMessage.style.display = 'none';
              }
              else{
                newEmailBodyMessage.style.display = 'block';
              }
              }

                        }













                      //var newEmailSender = document.createElement('div');
                   //newEmailSender.className = 'freshSend';
                   //newEmailSender.innerHTML = freshEmail.sender;
                   //Inbox.appendChild(newEmailSender);   

                      //var newEmailDate = document.createElement('div');
                       //newEmailDate.className = 'freshDate';
                       //newEmailDate.innerHTML = freshEmail.date;
                       //Inbox.appendChild(newEmailDate); 

                      //var newEmailSubj = document.createElement('div');
                        ///newEmailSubj.className = 'freshSubj';
                        //newEmailSubj.innerHTML = freshEmail.subject;
                        //Inbox.appendChild(newEmailSubj);

                      //var newEmailBody = document.createElement('div');
                        //  newEmailBody.className = "freshBody";
                          //newEmailBody.innerHTML = freshEmail.body;
                          //Inbox.appendChild(newEmailBody);
                        


    //sender: getNewMessage.sender,
    //date : getNewMessage.date,
    //subject : getNewMessage.subject,
    //body : getNewMessage.body,
    //fullEmail : function() {
       // return this.sender + " " + this.date + this.subject + this.body;
                //};




                //newEmail.createElement = 'div';
                //newEmail.className = 'freshMail';
                //newEmail.innerHTML = getNewMessage[i];
               // Inbox.appendChild(newEmail);
                




          

           //Inbox Count
           //var inBoxCount = document.createElement('div');
           //inBoxCount.className = 'count';
          // inBoxCount.innerHTML = *array.length* (find name of array containing all email messages);
           //main.appendChild(inBoxCount);
        }
  </script>
	</head>
	

  <body>
		<div class="container" id='main'>
      <div class="inboxCount"></div>			

      <div class="header">
        <h1>Welcome To Seamail!</h1>
      </div>

			<p class="intro">A sleak way to check your email, and see what new messages you have</p><br>

			<h2>Check You're Inbox Here:</h2>
            <div id='newInbox'></div>
            <div id='Inbox'></div>
	
  </div>
	</body>
  </html>