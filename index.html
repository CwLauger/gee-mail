<!DOCTYPE html>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<title>SeaMail Webb App</title>

    <script>
      window.onload = function(){


            //For loop to iterate through gmails
  					for (var i=0; i<geemails.length; i++){
						
              //sender
            var senderBox = document.createElement('div');
  						senderBox.className = 'name';
              senderBox.innerHTML = geemails[i].sender;
  						Inbox.appendChild(senderBox)
  					

  					
            //date
  						var dateBox = document.createElement('div')
  						dateBox.className = 'date';
  						dateBox.innerHTML = geemails[i].date;
  						Inbox.appendChild(dateBox)
  					


            //subject
  						var subjectBox = document.createElement('div');
  						subjectBox.className= 'subject';
  						subjectBox.innerHTML = geemails[i].subject;
              subjectBox.addEventListener('click', showBody);
  						Inbox.appendChild(subjectBox);
  					
					

            //body
  					var bodyBox = document.createElement('div');
  					bodyBox.className = 'body';
  					bodyBox.innerHTML = geemails[i].body;
  					subjectBox.appendChild(bodyBox);
            }


            //function to hide/show body here. 
            function showBody(){
              var bodyMessage = this.querySelectorAll('.body')[0];
              if(bodyMessage.style.display === 'block'){
                bodyMessage.style.display = 'none';
              }else{
                bodyMessage.style.display = 'block';
              }
              }



                //interval for new emails
               function writeEmail(){

            for (var i=0; i<getNewMessage.length; i++){
            
              //sender
            var senderBox = document.createElement('div');
              senderBox.className = 'name';
              senderBox.innerHTML = getNewMessage[i].sender;
              Inbox.appendChild(senderBox)
            

            
            //date
              var dateBox = document.createElement('div')
              dateBox.className = 'date';
              dateBox.innerHTML = getNewMessage[i].date;
              Inbox.appendChild(dateBox)
            


            //subject
              var subjectBox = document.createElement('div');
              subjectBox.className= 'subject';
              subjectBox.innerHTML = getNewMessage[i].subject;
              subjectBox.addEventListener('click', showBody);
              Inbox.appendChild(subjectBox);
            
          

            //body
            var bodyBox = document.createElement('div');
            bodyBox.className = 'body';
            bodyBox.innerHTML = getNewMessage[i].body;
            subjectBox.appendChild(bodyBox);
            }

            setInterval(getNewMessage(), 5000, writeEmail);

          }


        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
     </script>
	</head>
	

  <body>
		<div class="container" id='main'>
			

      <div class="header">
        <h1>Welcome To Seamail!</h1>
      </div>

			<p class="intro">A sleak way to check your email, and see what new messages you have</p><br>

			<h2>Check You're Inbox Here:</h2>
      <div id='Inbox'></div>
			


		</div>
	</body>
</html>